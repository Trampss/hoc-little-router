{"version":3,"file":"index.js","sources":["../src/router.jsx"],"sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\n\nconst getDisplayName = Component => `router(${\n  Component.displayName\n  || Component.name\n  || (Component.constructor && Component.constructor.name)\n  || 'Unknown'\n})`\n\nconst resultProp = '__hoc_little_router__result'\n\nconst isRouteFound = title => result => result && [].concat(title).includes(result.title)\n\nconst matchAbsolute = resultMatch => result => resultMatch(result)\n\nconst matchTopDown = resultMatch => (result) => {\n  if (!result) return false\n  return resultMatch(result) || matchTopDown(resultMatch)(result.parent)\n}\n\nconst mapStateToProps = state => ({ [resultProp]: state.router && state.router.result })\n\nconst hoc = (title, options = {}) => {\n  const isRouteFoundForTitle = isRouteFound(title)\n  const toShow = options.absolute\n    ? matchAbsolute(isRouteFoundForTitle)\n    : matchTopDown(isRouteFoundForTitle)\n\n  return (Component) => {\n    const WrapedComponent = connect(mapStateToProps)(\n      props => toShow(props[resultProp]) && <Component {...props} />,\n    )\n\n    WrapedComponent.displayName = getDisplayName(Component)\n    return WrapedComponent\n  }\n}\n\nhoc.absolute = (title, options) => hoc(title, { ...options, absolute: true })\n\nexport default hoc\n"],"names":["mapStateToProps","state","router","result","hoc","title","resultMatch","options","isRouteFoundForTitle","concat","includes","isRouteFound","toShow","absolute","matchTopDown","parent","Component","WrapedComponent","connect","props","React","displayName","name","constructor","getDisplayName"],"mappings":"2bAGA,IAkBMA,EAAkB,SAAAC,eAXL,8BAW+BA,EAAMC,QAAUD,EAAMC,OAAOC,SAEzEC,EAAM,SAACC,OATSC,EASFC,yDAAU,GACtBC,EAZa,SAAAH,UAAS,SAAAF,UAAUA,GAAU,GAAGM,OAAOJ,GAAOK,SAASP,EAAOE,QAYpDM,CAAaN,GACpCO,EAASL,EAAQM,UAXHP,EAYFE,EAZiB,SAAAL,UAAUG,EAAYH,KAEtC,SAAfW,EAAeR,UAAe,SAACH,WAC9BA,IACEG,EAAYH,IAAWW,EAAaR,EAAbQ,CAA0BX,EAAOY,UAS3DD,CAAaN,UAEV,SAACQ,OACAC,EAAkBC,UAAQlB,EAARkB,CACtB,SAAAC,UAASP,EAAOO,EAAK,8BAAiBC,gBAACJ,EAAcG,YAGvDF,EAAgBI,YA/BG,SAAAL,0BACrBA,EAAUK,aACPL,EAAUM,MACTN,EAAUO,aAAeP,EAAUO,YAAYD,MAChD,eA2B6BE,CAAeR,GACtCC,WAIXb,EAAIS,SAAW,SAACR,EAAOE,UAAYH,EAAIC,wUAAYE,GAASM,UAAU"}